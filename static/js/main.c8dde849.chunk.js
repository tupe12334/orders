(this.webpackJsonporders=this.webpackJsonporders||[]).push([[0],{319:function(e,t,a){e.exports=a.p+"static/media/pin.82e1eb1f.svg"},327:function(e,t,a){e.exports=a(392)},332:function(e,t,a){},333:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),l=(a(332),a(11)),i=a(41),s=a(480),u=a(479),m=a(484),d=a(25),p=a(299),f=a.n(p),b=(a(333),a(300)),E=a.n(b)()({direction:"rtl"}),v=a(18),h=a(112);var g=a(57),y=a(194),j=a(303),O=a(371),S=a(373),k=a(374),x=a(372),w=a(477),D=a(482),C=a(481),M=a(56),N=a(193),T=a(202),B={inWork:"inWork",done:"done",received:"received"},I=a(199),L=a.n(I),_=a(51),A=a.n(_);function H(e,t){var a=e.house,n=e.street,r=e.city;if(function(e){if(""!==e.house&&""!==e.street&&""!==e.city)return!0;return!1}(e)){var c=[0,0],o="https://nominatim.openstreetmap.org/search?q=".concat(a,"+").concat(n,",+").concat(r,"&format=xml&polygon_geojson=1&addressdetails=1");A.a.ajax(o,{dataType:"xml",success:function(e){c[0]=A()(e).find("place").attr("lat"),c[1]=A()(e).find("place").attr("lon"),null!==c&&void 0!==c[0]&&void 0!==c[1]&&t(c)},error:function(e,t,a){console.log("error"),console.log(a)}})}}L.a.initializeApp({apiKey:"AIzaSyCKxKgE1Mh7DauQBBhHAnJnnuIJaRLhj74",authDomain:"orders-cd834.firebaseapp.com",databaseURL:"https://orders-cd834.firebaseio.com",projectId:"orders-cd834",storageBucket:"orders-cd834.appspot.com",messagingSenderId:"1099359698304",appId:"1:1099359698304:web:1f290a07e5ad1c1740d565",measurementId:"G-HL9D0JZH4N"});var W=L.a.database();var z=Object(w.a)((function(e){return{}}));function J(){z();var e,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)([]),p=Object(l.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),v=Object(l.a)(E,2),h=v[0],w=v[1],I=Object(n.useState)(!1),L=Object(l.a)(I,2),_=L[0],J=L[1],Y={status:B.received,orderSetDate:new Date,reciverName:"",city:"",street:"",house:""};Object(n.useEffect)((function(){!function(e){var t=[];A.a.ajax("https://data.gov.il/dataset/3fc54b81-25b3-4ac7-87db-248c3e1602de/resource/72bd51be-512b-4430-b2d2-f3295c90e569/download/72bd51be-512b-4430-b2d2-f3295c90e569.xml",{dataType:"xml",success:function(a){A()(a).find("ROW").each((function(){var e=A()(this).find("\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1");t.push(e[0].textContent.trim())})),e(t)}})}(b)}),[]),e=f.map((function(e){var t=e[0].toUpperCase();return{firstLetter:/[0-9]/.test(t)?"0-9":t,title:e}}));Object(n.useEffect)((function(){void 0!==c&&null!==c&&c.length>0&&m(c.map((function(e){var t=e[0].toUpperCase();return{firstLetter:/[0-9]/.test(t)?"0-9":t,title:e}})))}),[c]);return r.a.createElement("div",null,r.a.createElement(g.a,{color:"primary",variant:"h3"},"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4"),r.a.createElement(M.c,{initialValues:Y,onSubmit:function(e,t){var a,n=t.setSubmitting,r=t.resetForm;n(!0),e.DDdate=String(e.orderSetDate.getDate()).padStart(2,0),e.MMdate=String(e.orderSetDate.getMonth()+1).padStart(2,0),e.YYdate=e.orderSetDate.getFullYear(),e.MMtime=e.orderSetDate.getMinutes(),e.HHtime=e.orderSetDate.getHours(),e.SStime=e.orderSetDate.getSeconds(),H(a=e,(function(e){console.log("postion"),console.log(e),a.latitude=e[0],a.longitude=e[1],console.log("object that send to firebase"),console.log(a),void 0!==a&&(console.log("object that send to firebase"),console.log(a),W.ref("orders").push(a))})),r(),J(!0),n(!1)},validateSchema:Object(T.b)({house:Object(T.a)().min(10)})},(function(t){t.values;var a=t.isSubmitting,n=(t.handleChange,t.setFieldValue);return r.a.createElement(M.b,null,r.a.createElement(y.a,{margin:"normal",required:!0},r.a.createElement(M.a,{label:"\u05e9\u05dd \u05d4\u05de\u05e7\u05d1\u05dc",name:"reciverName",type:"input",variant:"filled",component:N.a}),r.a.createElement(D.a,{id:"city",name:"city",options:e,getOptionLabel:function(e){return e.title},groupBy:function(e){return e.firstLetter},onChange:function(e,t){t?(!function(e,t,a){if(""!==e){var n={resource_id:"a7296d1a-f8c9-4b70-96c2-6ebb4352f8e3",limit:3200,q:e,fields:"\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1,\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1",sort:"\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1"},r=[],c="https://data.gov.il/api/3/action/".concat("datastore_search");A.a.ajax({url:c,data:n,dataType:"json",success:function(a){A()(a.result)[0].records.forEach((function(t){e.includes(t.\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1.trim())&&r.push(t.\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1.trim())})),r&&t(r)}})}}(t.title,o),w(!0)):(w(!1),m([])),n("city",null!==t?t.title:Y.city)},noOptionsText:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05ea\u05d0\u05d9\u05dd...",renderInput:function(e){return r.a.createElement(j.a,Object.assign({},e,{label:"\u05e2\u05d9\u05e8",name:"city",type:"input",variant:"filled",id:"city"}))},loadingText:"\u05d8\u05d5\u05e2\u05df..."}),r.a.createElement(D.a,{id:"street",name:"street",options:u||[""],getOptionLabel:function(e){return e.title},groupBy:function(e){return e.firstLetter},onChange:function(e,t){n("street",null!==t?t.title:Y.street)},noOptionsText:h?"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05ea\u05d0\u05d9\u05dd...":"\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8 \u05e2\u05d9\u05e8",renderInput:function(e){return r.a.createElement(j.a,Object.assign({},e,{label:"\u05e8\u05d7\u05d5\u05d1",name:"street",type:"input",variant:"filled",id:"street"}))},loadingText:"\u05d8\u05d5\u05e2\u05df..."}),r.a.createElement(M.a,{label:"\u05de\u05e1\u05e4\u05e8 \u05d1\u05d9\u05ea",name:"house",type:"input",variant:"filled",component:N.a}),r.a.createElement(O.a,{variant:"contained",color:"primary",disabled:a,type:"submit",endIcon:r.a.createElement(x.a,{style:{transform:"scaleX(-1)"}},"send")},a?r.a.createElement(S.a,{size:"1"}):"\u05e9\u05dc\u05d7")),null)})),r.a.createElement(k.a,{open:_,autoHideDuration:6e3},r.a.createElement(C.a,{elevation:6,variant:"filled",severity:"success"},"\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d4\u05ea\u05e7\u05d1\u05dc\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!")))}var Y=a(382),K=a(46),U=a(376),q=a(377),F=a(378),R=a(379),V=a(380),Z=a(191),G=a(381),P=a(29),Q=a.n(P),X=a(478),$=a(485),ee=a(483),te=a(486),ae=a(319),ne=a.n(ae),re=a(375);function ce(e){var t=e.order,a=Object(n.useState)([0,0]),c=Object(l.a)(a,2),o=c[0],i=c[1],s=r.a.useState(null),m=Object(l.a)(s,2),d=m[0],p=m[1],f=r.a.useState(!1),b=Object(l.a)(f,2),v=(b[0],b[1],Object(n.useState)(K.a.white)),h=Object(l.a)(v,2),g=(h[0],h[1]),y=Object(n.useState)(null),j=Object(l.a)(y,2),S=j[0],k=j[1];Object(n.useEffect)((function(){D();var e="",a="";switch(t.status){case B.received:e="contactless",a="red";break;case B.inWork:e="work",a="Orange";break;case B.done:e="done",a="green";break;default:e=""}var n=r.a.createElement(x.a,{style:{color:a}}," ",e);console.log(n),k(n)}),[t.status]);Object(n.useEffect)((function(){""!==t.latitude&&""!==t.longitude?i([t.latitude,t.longitude]):H(e.address,i)}),[t]);var w=Q.a.icon({iconUrl:ne.a,iconSize:[40,100],iconAnchor:[20,70],popupAnchor:[-3,-76]}),D=function(){switch(console.log(t.status),t.status){case B.received:g(K.a.red);break;case B.inWork:g(K.a.yellow);break;case B.done:g(K.a.green)}},C=r.a.createElement(X.a,{position:o,icon:w},r.a.createElement($.a,null,t.street+" "+t.house,r.a.createElement("br",null),t.city)),M=r.a.createElement(ee.a,{style:{height:"300px"},center:o,zoom:13,className:"map",tap:!0,touchZoom:!0},r.a.createElement(te.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> ',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),C);return r.a.createElement(u.a,{theme:E},r.a.createElement(re.a,null),r.a.createElement(U.a,{style:{margin:"10px"}},r.a.createElement(q.a,{title:"\u05de\u05e9\u05dc\u05d5\u05d7 \u05d0\u05dc: "+t.reciverName,subheader:e.date,avatar:S}),r.a.createElement(F.a,null,r.a.createElement(R.a,null,r.a.createElement("div",null,M))),r.a.createElement(V.a,null,r.a.createElement(O.a,{onClick:function(e){p(e.currentTarget)},color:"secondary",variant:"contained"},t.status),r.a.createElement(Z.a,{keepMounted:!0,anchorEl:d,open:Boolean(d),onClose:function(e){D(),p(null)}},Object.values(B).map((function(e,a){return r.a.createElement(G.a,{key:a,selected:e===t.status},e)}))))))}var oe=W.ref("orders");function le(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){oe.on("value",(function(e){var t=e.val(),a=Object.entries(t);c(a.map((function(e){var t=e[1],a=t.DDdate+"/"+t.MMdate+"/"+t.YYdate,n={street:t.street,house:t.house,city:t.city};return r.a.createElement(Y.a,{key:o,item:!0},r.a.createElement(ce,{key:o++,rcivername:e[1].reciverName,date:a,address:n,order:t}))})))}))}),[]);var o=0;return r.a.createElement(Y.a,{container:!0,spacing:2},r.a.createElement(Y.a,{item:!0},r.a.createElement(Y.a,{container:!0,justify:"center",spacing:2},a)))}var ie=[{path:"/",sidebarName:"\u05d1\u05d9\u05ea",component:function(){return r.a.createElement("div",null,r.a.createElement(h.b,null,r.a.createElement(h.b.Header,null,r.a.createElement(h.b.Title,null,"Card Title")),r.a.createElement(h.b.Body,null,r.a.createElement(h.a,{color:"primary"},"A Button"))))},icon:"home"},{path:"/Place-an-order",sidebarName:"\u05d4\u05db\u05e0\u05e1 \u05d4\u05d6\u05de\u05e0\u05d4",component:function(){return r.a.createElement("div",null,r.a.createElement(J,null))},icon:"input"},{path:"/Show",sidebarName:"\u05e6\u05e4\u05d4 \u05d1\u05d4\u05d6\u05de\u05e0\u05d5\u05ea",component:function(){return r.a.createElement("div",null,r.a.createElement(le,null))},icon:"inbox"}],se=a(76);function ue(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",null,'404 \u05d3\u05e3 \u05dc\u05d0 \u05e7\u05d9\u05d9\u05dd \u05d0\u05e0\u05d0 \u05e0\u05d5\u05d5\u05d8 \u05dc\u05d3\u05e3 \u05d4\u05d1\u05d9\u05ea \u05e2"\u05d9 \u05dc\u05d7\u05d9\u05e6\u05d4'),r.a.createElement("br",null),r.a.createElement(se.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(O.a,{variant:"contained",color:"primary"},"\u05db\u05d0\u05df")))}function me(){return r.a.createElement("div",null,r.a.createElement(v.c,null,ie.map((function(e){return r.a.createElement(v.a,{path:e.path,exact:!0,component:e.component,key:e.path},r.a.createElement(e.component,null))})),r.a.createElement(v.a,{component:ue})))}var de=a(387),pe=a(388),fe=a(312),be=a(389),Ee=a(384),ve=a(310),he=a(309),ge=a(385),ye=a(386);function je(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{variant:"inherit",display:"block",style:{textAlign:"center",fontSize:"25px"}},"\u05ea\u05e4\u05e8\u05d9\u05d8 \u05e8\u05d0\u05e9\u05d9")),r.a.createElement(Ee.a,{variant:"middle"}),r.a.createElement(ve.a,null,r.a.createElement(he.a,null,ie.map((function(e,t){return r.a.createElement(se.b,{to:e.path,style:{textDecoration:"none"},key:t},r.a.createElement(G.a,{selected:(a=e.path,window.location.pathname===a)},r.a.createElement(ge.a,null,r.a.createElement(x.a,null,e.icon)),r.a.createElement(ye.a,{primary:e.sidebarName,style:{color:"black"}})));var a})))))}function Oe(e){var t=r.a.useState(!1),a=Object(l.a)(t,2),n=a[0],c=a[1],o=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&c(e)}};return r.a.createElement(de.a,{position:"static"},r.a.createElement(pe.a,null,r.a.createElement(fe.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:o(!0)},r.a.createElement(x.a,null,"menu")),r.a.createElement(g.a,{variant:"h6"},"\u05de\u05e2\u05e8\u05da \u05d4\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd"),r.a.createElement(be.a,{open:n,onClose:o(!1)},r.a.createElement("div",{role:"presentation",onClick:o(!1),onKeyDown:o(!1)},r.a.createElement(je,null))),r.a.createElement(O.a,{color:"inherit",style:{fontWeight:"bold"}},"\u05d4\u05ea\u05d7\u05d1\u05e8")))}var Se=Object(d.b)({plugins:[].concat(Object(i.a)(Object(s.a)().plugins),[f()()])});var ke=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2);return t[0],t[1],r.a.createElement(u.a,{theme:E},r.a.createElement(m.b,{jss:Se},r.a.createElement("div",{className:"App",dir:"rtl"},r.a.createElement(Oe,null),r.a.createElement(me,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(390),a(391);o.a.render(r.a.createElement(se.a,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[327,1,2]]]);
//# sourceMappingURL=main.c8dde849.chunk.js.map