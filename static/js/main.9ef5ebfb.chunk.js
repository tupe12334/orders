(this.webpackJsonporders=this.webpackJsonporders||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),i=a.n(r),c=(a(87),a(17)),l=a(20),s=(a(88),a(89),a(139)),u=a(152),d=a(148),m=a(145),p=a(146),f=a(55),g=a.n(f);g.a.initializeApp({apiKey:"AIzaSyCKxKgE1Mh7DauQBBhHAnJnnuIJaRLhj74",authDomain:"orders-cd834.firebaseapp.com",databaseURL:"https://orders-cd834.firebaseio.com",projectId:"orders-cd834",storageBucket:"orders-cd834.appspot.com",messagingSenderId:"1099359698304",appId:"1:1099359698304:web:1f290a07e5ad1c1740d565",measurementId:"G-HL9D0JZH4N"});var b=g.a.database(),v=a(150),h=a(30),y=a.n(h),S=[];y.a.ajax("https://data.gov.il/dataset/3fc54b81-25b3-4ac7-87db-248c3e1602de/resource/72bd51be-512b-4430-b2d2-f3295c90e569/download/72bd51be-512b-4430-b2d2-f3295c90e569.xml",{dataType:"xml",success:function(e){y()(e).find("ROW").each((function(){var e=y()(this).find("\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1");S.push(e[0].textContent.trim())}))}});var E=S,O=a(23);a(57),a(70);function j(e,t,a){if(""!==e){var n={resource_id:"a7296d1a-f8c9-4b70-96c2-6ebb4352f8e3",limit:3200,q:e,fields:"\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1,\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1",sort:"\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1"},o=new Array,r="https://data.gov.il/api/3/action/".concat("datastore_search");y.a.ajax({url:r,data:n,dataType:"json",success:function(a){var n=y()(a.result)[0].records;console.log("from api"),console.log(y()(a.result)[0].records);n.forEach((function(t){e.includes(t.\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1.trim())&&(o.push(t.\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1.trim()))})),o&&t(o)}})}}function D(){var e,t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)([]),f=Object(c.a)(l,2),g=f[0],h=f[1],y={status:"inWork",orderSetDate:new Date,reciverName:"",city:"",street:"",house:""};e=E.map((function(e){var t=e[0].toUpperCase();return{firstLetter:/[0-9]/.test(t)?"0-9":t,title:e}})),Object(n.useEffect)((function(){void 0!==r&&null!==r&&(console.log("streetList change"),console.log("typeof:"),console.log(typeof r),console.log("streetList: "),console.log(r),console.log("stringify: "),console.log(JSON.stringify(r)),console.log("length: "),console.log(r.length),console.log("slice"),r.length>0&&(h(r.map((function(e){var t=e[0].toUpperCase();return{firstLetter:/[0-9]/.test(t)?"0-9":t,title:e}}))),console.log("StreetListO"),console.log(g)))}),[r]),console.log(g);return o.a.createElement("div",null,o.a.createElement(s.a,{color:"primary",variant:"h3"},"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4"),o.a.createElement(O.c,{initialValues:y,onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;a(!0),e.DDdate=String(e.orderSetDate.getDate()).padStart(2,0),e.MMdate=String(e.orderSetDate.getMonth()+1).padStart(2,0),e.YYdate=e.orderSetDate.getFullYear(),e.MMtime=e.orderSetDate.getMinutes(),e.HHtime=e.orderSetDate.getHours(),e.SStime=e.orderSetDate.getSeconds(),function(e){void 0!==e&&(console.log(e),b.ref("orders").push(e))}(e),console.log(e),n(),a(!1)}},(function(t){t.values;var a=t.isSubmitting,n=(t.handleChange,t.setFieldValue);return o.a.createElement(O.b,null,o.a.createElement(u.a,{margin:"normal",required:!0},o.a.createElement(O.a,{label:"\u05e9\u05dd \u05d4\u05de\u05e7\u05d1\u05dc",name:"reciverName",type:"input",variant:"filled",as:d.a}),o.a.createElement(v.a,{id:"city",name:"city",options:e,getOptionLabel:function(e){return e.title},groupBy:function(e){return e.firstLetter},onChange:function(e,t){t&&(console.log("setStreetList"),j(t.title,i)),n("city",null!==t?t.title:y.city)},noOptionsText:"\u05d8\u05d5\u05e2\u05df...",renderInput:function(e){return o.a.createElement(d.a,Object.assign({},e,{label:"\u05e2\u05d9\u05e8",name:"city",type:"input",variant:"filled",id:"city"}))},loadingText:"\u05d8\u05d5\u05e2\u05df..."}),o.a.createElement(v.a,{id:"street",name:"street",options:g||[""],getOptionLabel:function(e){return e.title},groupBy:function(e){return e.firstLetter},onChange:function(e,t){console.log(t),n("street",null!==t?t.title:y.street)},noOptionsText:"\u05d8\u05d5\u05e2\u05df...",renderInput:function(e){return o.a.createElement(d.a,Object.assign({},e,{label:"\u05e8\u05d7\u05d5\u05d1",name:"street",type:"input",variant:"filled",id:"street"}))},loadingText:"\u05d8\u05d5\u05e2\u05df..."}),o.a.createElement(O.a,{label:"\u05de\u05e1\u05e4\u05e8 \u05d1\u05d9\u05ea",name:"house",type:"input",variant:"filled",as:d.a}),o.a.createElement(m.a,{variant:"contained",color:"primary",disabled:a,type:"submit"},a?o.a.createElement(p.a,{size:"1"}):"\u05e9\u05dc\u05d7")),null)})))}var L=a(73),w=a.n(L),x=a(149),I=a(151),M=a(14),_=a(147),B=a(74),C=Object(B.a)({direction:"rtl"});var k=Object(M.b)({plugins:[].concat(Object(l.a)(Object(x.a)().plugins),[w()()])});var H=function(){var e=o.a.useState(5),t=Object(c.a)(e,2),a=(t[0],t[1]),n=b.ref().child("speed");return o.a.useLayoutEffect((function(){n.on("value",(function(e){e.val(),console.log(e.val()),a(e.val())}))}),[]),o.a.createElement(_.a,{theme:C},o.a.createElement(I.b,{jss:k},o.a.createElement("div",{className:"App",dir:"rtl"},o.a.createElement(D,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t,a){e.exports=a(105)},87:function(e,t,a){},88:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},89:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.9ef5ebfb.chunk.js.map