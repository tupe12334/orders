(this.webpackJsonporders=this.webpackJsonporders||[]).push([[0],{282:function(e,t,r){e.exports=r(419)},287:function(e,t,r){},288:function(e,t,r){},309:function(e,t){},311:function(e,t){},321:function(e,t){},323:function(e,t){},331:function(e,t){},333:function(e,t){},361:function(e,t){},363:function(e,t){},364:function(e,t){},370:function(e,t){},372:function(e,t){},390:function(e,t){},392:function(e,t){},404:function(e,t){},407:function(e,t){},419:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(14),i=r.n(o),s=(r(287),r(57)),u=r(486),c=r(485),l=r(491),p=r(29),d=r(258),m=r.n(d),f=(r(288),r(268)),h=Object(f.a)({direction:"rtl"}),g=r(22),v=r(267),y='PROJCS["ITM", GEOGCS["ITM", DATUM["Isreal 1993", SPHEROID["GRS 1980", 6378137, 298.257222101, AUTHORITY["EPSG", "7019"]], TOWGS84[-24.0024, -17.1032, -17.8444, -0.33077, -1.85269, 1.66969, 5.4248]], PRIMEM["Greenwich", 0, AUTHORITY["EPSG", "8901"]], UNIT["degree", 0.017453292519943295, AUTHORITY["EPSG", "9102"]], AXIS["East", EAST], AXIS["North", NORTH]], UNIT["metre", 1, AUTHORITY["EPSG", "9001"]], PROJECTION["Transverse_Mercator"], PARAMETER["latitude_of_origin", '.concat(31.734393611111113,'], PARAMETER["central_meridian", ').concat(35.20451694444444,'], PARAMETER["false_northing", ').concat(626907.39,'], PARAMETER["false_easting", ').concat(219529.584,'], PARAMETER["scale_factor", ').concat(1.0000067,'], AXIS["East", EAST], AXIS["North", NORTH]]');var T=r(13),E=r.n(T),S={mapIframeId:"",mapUrl:"",urlWithProtocol:"",protocol:"",restBaseUrl:"ags.govmap.gov.il",routingBaseUrl:"13.73.176.212:8080",mapLoaded:E.a.Deferred(),authData:{api_token:"",user_token:"",domain:"",token:""},mapFreeToProcess:E.a.Deferred().resolve(),bMapReceiverAttached:E.a.Deferred(),pOnError:E.a.Deferred(),authenticated:E.a.Deferred(),dictApiCallStatus:{},aApiCallDelegate:{},clickBinded:!1,dictSelectFeatures:[],transportation:{startDepartureTime:"00:00",endDepartureTime:"23:59",numberOfDaysToAdd:7},events:{PAN:0,EXTENT_CHANGE:1,CLICK:3,DOUBLE_CLICK:4,MOUSE_MOVE:5,MOUSE_OVER:8},internalClickEvents:{GET_XY_CLICK:10,SELECTION:11},locateType:{addressToLotParcel:1,lotParcelToAddress:0},cursorType:{DEFAULT:0,TARGET:1,POLYGON:3,CIRCLE:4,RECTANGLE:5,SELECT_FEATURES:6},geometryType:{POINT:0,POLYLINE:1,POLYGON:2,LINE:3,CIRCLE:4},drawType:{Point:0,Polyline:1,Polygon:2,Circle:3,Rectangle:4,FreehandPolygon:6},rendererType:{Simple:0,SimplePicture:1,JenksNaturalBreaks:2,EqualInterval:3,Quantile:4,ClassBreaks:5},geocodeType:{FullResult:0,AccuracyOnly:1},saveAction:{Delete:1,Update:2,New:3},saveActionStatus:{Failed:0,Deleted:1,Updated:2,Inserted:3},costing:{auto:"auto",auto_shorter:"auto_shorter",bicycle:"bicycle",multimodal:"multimodal",pedestrian:"pedestrian"},routing_type:{locate:"locate",routing:"route",elevation:"height",time_distance_matrix:"sources_to_targets",optimized_route:"optimized_route",isochrone:"isochrone",transit_available:"transit_available"},getRoutingServiceRoot:function(){return this.getProtocol()+S.routingBaseUrl},getRestServiceRoot:function(){return this.getProtocol()+S.restBaseUrl},getScriptHostUrl:function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(null!=e[t].src){var r=e[t].src.toLowerCase();if(-1!=r.indexOf("govmap.api.js")){this.protocol=this.getSchema(r);var n=r.indexOf("govmap/api"),a=r.indexOf("://")+3;return r.substr(a,n-a)}}return""},getSchema:function(e){var t=e.indexOf("://");return e.substr(0,t+3)},postMapRequest:function(e){this.mapFreeToProcess=E.a.Deferred(),e.headers={auth_data:JSON.stringify(S.authData)},this.getMapIframeWindow().postMessage(JSON.stringify(e),"*")},post:function(e,t){return t=t||{},E.a.ajax({url:e,headers:{auth_data:JSON.stringify(S.authData),"Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(t),processData:!0,dataType:"json",type:"POST"}).fail((function(e){e&&e.status&&401==e.status&&console.log("Govmap API Token invalid or expired! "),S.postError({title:"\u05f3\x90\u05f3\u2122\u05f3\xa8\u05f3\xa2\u05f3\u201d \u05f3\xa9\u05f3\u2019\u05f3\u2122\u05f3\x90\u05f3\u201d",description:"\u05f3\x90\u05f3\u2122\u05f3\xa8\u05f3\xa2\u05f3\u201d \u05f3\xa9\u05f3\u2019\u05f3\u2122\u05f3\x90\u05f3\u201d. \u05f3\u2013\u05f3\x9e\u05f3 \u05f3\u2122\u05f3\xd7, \u05f3\x9c\u05f3\x90 \u05f3 \u05f3\u2122\u05f3\xd7\u05f3\x9f \u05f3\x9c\u05f3\u2018\u05f3\xa6\u05f3\xa2 \u05f3\x90\u05f3\xd7 \u05f3\u201d\u05f3\u20aa\u05f3\xa2\u05f3\u2022\u05f3\x9c\u05f3\u201d \u05f3\u201d\u05f3\x9e\u05f3\u2018\u05f3\u2022\u05f3\xa7\u05f3\xa9\u05f3\xd7.",errorCode:-1})}))},getMapIframeWindow:function(){return""==this.mapIframeId&&(this.mapIframeId=this.getMapIframeId()),document.getElementById(this.mapIframeId).contentWindow},getMapIframeId:function(){for(var e=this.urlWithProtocol+"/map.html",t=document.getElementsByTagName("iframe"),r=0;r<t.length;r++){if(-1!=t[r].src.toLowerCase().indexOf(e))return t[r].id}return""},getUrlWithProtocol:function(){return this.getProtocol()+this.mapUrl},getProtocol:function(){return this.protocol},getRequestId:function(e){var t=e+(new Date).getTime();return this.dictApiCallStatus[t]=!0,setTimeout((function(){S.checkProcessStatus(t)}),1e4),t},checkProcessStatus:function(e){this.dictApiCallStatus.hasOwnProperty(e)&&1==this.dictApiCallStatus[e]&&(this.mapFreeToProcess.resolve(),delete this.dictApiCallStatus[e])},addDelegateToQueue:function(e){var t=e.requestId;return"eventId"in e&&(t=e.eventId),this.aApiCallDelegate[t]=E.a.Deferred(),this.aApiCallDelegate[t]},hasPromise:function(e){return e in this.aApiCallDelegate},doProcess:function(){return E.a.when(this.mapFreeToProcess,this.mapLoaded,this.bMapReceiverAttached)},validJSON:function(e){return/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},postError:function(e){if(null!=this.onErrorCallback)try{this.onErrorCallback(e)}catch(t){}},onError:function(){return S.pOnError},authenticatedUser:function(){return S.authenticated.promise()},getMapRequest:function(e,t){if("onEvent"==e.requestType||"unbindEvent"==e.requestType)switch(e.event){case S.internalClickEvents.GET_XY_CLICK:case S.internalClickEvents.SELECTION:E.a.extend(e,{eventId:"onEvent"+S.events.CLICK}),e.event=S.events.CLICK;break;default:E.a.extend(e,{eventId:"onEvent"+e.event})}return E.a.extend(e,{requestId:t?e.requestType:this.getRequestId(e.requestType)}),E.a.when(this.doProcess()).then((function(){return E.a.when(S.addDelegateToQueue(e),S.postMapRequest(e))}))},resolvePromise:function(e,t,r){e in S.aApiCallDelegate&&(r?S.aApiCallDelegate[e].notify(t):(S.aApiCallDelegate[e].resolve(t),delete S.aApiCallDelegate[e]))},isFunction:function(e){return e&&"function"==typeof e},validBackground:function(e){return!isNaN(e)},createMap:function(e,t){var r={},n=new Array;if(n.push("MapMode=1"),n.push("showNavBtn=0"),n.push("showBackBtn=0"),"object"==typeof t){if(this.isFunction(t.onError)&&S.pOnError.progress((function(e){t.onError(e)})),this.isFunction(t.onClick)&&this.onEvent(S.events.CLICK).progress((function(e){t.onClick(e)})),this.isFunction(t.onPan)&&this.onEvent(S.events.PAN).progress((function(e){t.onPan(e)})),this.isFunction(t.onLoad)&&S.mapLoaded.pipe((function(){t.onLoad()})),this.setToken(t.token||"",t.user_token||""),"token"in t&&n.push("api_token="+t.token),n.push("parentHost="+document.domain),"visibleLayers"in t&&t.visibleLayers.length>0){var a="lay=";a+=t.visibleLayers.join(","),n.push(a)}if("layers"in t&&t.layers.length){var o="laym=";o+=t.layers.join(","),n.push(o)}"showXY"in t&&n.push("xy="+(t.showXY?"1":"0")),"bgButton"in t&&n.push("bb="+(t.bgButton?"1":"0")),"showBubble"in t&&n.push("sbs="+(t.showBubble?"1":"0")),"zoomButtons"in t&&n.push("zb="+(t.zoomButtons?"1":"0")),"background"in t&&S.validBackground(t.background)&&(n.push("b="+t.background),r.b=!0),"identifyOnClick"in t&&n.push("in="+(t.identifyOnClick?"1":"0")),"level"in t&&t.level>=0&&t.level<11&&n.push("z="+t.level),"q"in t&&(console.log("q in options. push to queryParams"),n.push("q="+t.q)),"center"in t&&"x"in t.center&&"y"in t.center&&n.push("c="+t.center.x+","+t.center.y),"isEmbeddedToggle"in t&&n.push("et="+(t.isEmbeddedToggle?"1":"0")),"setMapMarker"in t&&n.push("mk="+(t.setMapMarker?"1":"0")),"layersMode"in t&&n.push("lm="+t.layersMode),"language"in t&&n.push("lang="+t.language),"transDate"in t&&n.push("date="+t.transDate),"transDepartureTime"in t&&n.push("dt="+t.transDepartureTime),"transRouteId"in t&&n.push("ld="+t.transRouteId),"transTripId"in t&&n.push("ti="+t.transTripId),"stationId"in t&&n.push("stationId="+t.stationId),"bubbleMaxWidth"in t&&n.push("bmw="+t.bubbleMaxWidth)}"b"in r||n.push("b=0");var i=document.getElementById(e),s=document.createElement("iframe");s.id="ifrMap",s.style.width="100%",s.style.height="100%",s.style.border="none",s.setAttribute("src",this.urlWithProtocol+"/map.html"+(n.length>0?"?"+n.join("&"):"")),i.innerHTML="",i.appendChild(s)},setAuthData:function(e){return this.authData=e,this.authenticated=S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/Auth",{}).then((function(e){e&&(S.authData=e,S.updateAuthData(e))})),this.authenticated},message_receiver:function(e){if(e=e.originalEvent,0==S.urlWithProtocol.indexOf(e.origin)){if(!S.validJSON(e.data))return;var t=JSON.parse(e.data);"error"in t&&null!=t.error&&t.error.length>0&&S.pOnError.notify(t.error);var r=!1;switch(t.context){case"map_loaded":S.mapLoaded.resolve();break;case"displayGeometries":r=!0;break;case"message_receiver_attached":S.bMapReceiverAttached.resolve();break;case"request_processed":S.checkProcessStatus(t.data.requestId),S.mapFreeToProcess.resolve();break;case"onEvent":r=!0,t.requestId=t.eventId;break;case"draw":r=!("notify"in t.data)||t.data.notify,t.requestId=t.context}S.resolvePromise(t.requestId,t.data,r)}},setToken:function(e,t){S.authData.api_token=e,S.authData.user_token=t,S.authenticated=E.a.Deferred(),S.setAuthData(S.authData)},onEvent:function(e,t){void 0===t&&(t=!0);var r={requestType:"onEvent",event:e};return this.getMapRequest(r,t)},unbindEvent:function(e){var t={requestType:"unbindEvent",event:e};return this.getMapRequest(t,!1)},saveLayerEntities:function(e){return S.authenticatedUser().then((function(){if("entities"in e)for(var t=0;t<e.entities.length;t++){var r=e.entities[t];"fields"in r&&(r.fields=JSON.stringify(r.fields))}return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/SaveLayerEntities",e)}))},setLayerOpacity:function(e){if("layerName"in e&&"opacity"in e){var t={requestType:"setLayerOpacity",params:e};return this.getMapRequest(t,!1)}},showLabels:function(e){if("layerName"in e&&"showLabels"in e){var t={requestType:"showLabels",params:e};return this.getMapRequest(t,!1)}},getLayerEntities:function(e){return S.authenticatedUser().then((function(){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetUserLayerEntities",e)}))},getAddEntitiesSample:function(e){return S.authenticatedUser().then((function(){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetAddEntitiesSample",e)}))},refreshResource:function(e){if("resource"in e||"layerName"in e){var t={requestType:"refreshResource",params:e};return this.getMapRequest(t,!1)}},intersectFeatures:function(e){return S.authenticatedUser().then((function(){return S.getLayerDef(e).then((function(t){return null!=t&&""!=t&&(e.whereClause=t),S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/IntersectsFeatures",e)}))}))},intersectFeaturesByWhereClause:function(e){return S.authenticatedUser().then((function(){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/intersectFeaturesByWhereClause",e)}))},getLayerDef:function(e){if(""==e.layerName)return"";var t={requestType:"getLayerDef"+(Date.now()+Math.random()).toString(),layerName:e.layerName,whereClause:"whereClause"in e?e.whereClause:""};return this.getMapRequest(t,!1)},searchAndLocate:function(e){return S.authenticatedUser().then((function(){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/SearchAndLocate",e)}))},setBackground:function(e){if(S.validBackground(e)){var t={requestType:"setBackground",backgroundId:e};return this.getMapRequest(t,!1)}console.log("background id must be a number!")},setMapCursor:function(e){var t={requestType:"setMapCursor",cursor:e};return this.getMapRequest(t,!1)},setDefaultTool:function(){var e={requestType:"setDefaultTool"};return S.dictSelectFeatures=[],S.unbindEvent(S.internalClickEvents.GET_XY_CLICK),S.unbindEvent(S.internalClickEvents.SELECTION),this.getMapRequest(e,!1)},showMeasure:function(){var e={requestType:"showMeasure"};return this.getMapRequest(e,!0)},showPrint:function(e,t){var r={requestType:"showPrint",height:e,width:t};return this.getMapRequest(r,!1)},showExportMap:function(){var e={requestType:"showExportMap"};return this.getMapRequest(e,!1)},closeBubble:function(){var e={requestType:"closeBubble"};return this.getMapRequest(e,!1)},draw:function(e){var t={requestType:"draw",type:e};return this.getMapRequest(t,!0)},displayGeometries:function(e){var t={requestType:"displayGeometries",data:e};return this.getMapRequest(t,!0)},clearSelection:function(){var e={requestType:"clearSelection"};return this.getMapRequest(e,!1)},clearDrawings:function(){var e={requestType:"clearDrawings"};return this.getMapRequest(e,!1)},clearGeometriesByName:function(e){var t={requestType:"clearGraphicsByName",names:e};return this.getMapRequest(t,!1)},clearGeometriesById:function(e){var t={requestType:"clearGraphicsById",ids:e};return this.getMapRequest(t,!1)},zoomToXY:function(e){var t={requestType:"zoomToXY"};return E.a.extend(t,e),this.getMapRequest(t,!1)},clearMapMarker:function(){var e={requestType:"clearMapMarker"};return this.getMapRequest(e,!1)},getXY:function(){return S.setMapCursor(S.cursorType.TARGET),S.onEvent(S.internalClickEvents.GET_XY_CLICK)},geocode:function(e){return S.authenticatedUser().then((function(){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/Geocode",e)}))},getFreeSearchResult:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetFreeSearchResult",e)},setDrawPointTooltip:function(e){var t={requestType:"setDrawPointTooltip",tooltipText:e};return this.getMapRequest(t,!0)},gpsOn:function(){var e={requestType:"gpsOn"};return this.getMapRequest(e,!1)},gpsOff:function(){var e={requestType:"gpsOff"};return this.getMapRequest(e,!1)},getGPSLocation:function(){var e={requestType:"getGPSLocation"};return this.getMapRequest(e,!1)},setGpsMarker:function(e){var t={requestType:"setGpsMarker",x:e.x,y:e.y,accuracy:e.accuracy};return this.getMapRequest(t,!0)},removeGPSMarker:function(){var e={requestType:"removeGPSMarker"};return this.getMapRequest(e,!1)},getInScaleVisibleLayers:function(){var e={requestType:"getInScaleVisibleLayers"};return this.getMapRequest(e,!1)},identifyByXY:function(e,t){S.getInScaleVisibleLayers().then((function(r){S.getMapTolerance().then((function(n){var a=[];for(var o in r)a.push({LayerType:8,LayerName:r[o][0]});var i={x:e,y:t,mapTolerance:n,layers:a};return S.post(S.getRestServiceRoot()+"/Identify/IdentifyByXY",i)}))}))},getMapTolerance:function(){var e={requestType:"getMapTolerance"};return this.getMapRequest(e,!1)},setVisibleLayers:function(e,t){var r={requestType:"setVisibleLayers",layersOn:e,layersOff:t};return this.getMapRequest(r,!1)},setHeatLayer:function(e){var t={requestType:"setHeatLayer",points:e.points,options:e.options};return this.getMapRequest(t,!1)},removeHeatLayer:function(){var e={requestType:"removeHeatLayer"};return this.getMapRequest(e,!1)},changeHeatLayerValueField:function(e){var t={requestType:"changeHeatLayerValueField",valueField:e};return this.getMapRequest(t,!1)},getLayerData:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetLayerEntitiesByXY",{LayerName:e.LayerName,Radius:e.Radius,Point:e.Point})},getLayerRenderer:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetLayerRenderer",e)},getResourceLayersInfo:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetResourceLayersInfo",e)},addCustomBackground:function(e){var t={requestType:"addCustomBackground",background:e};return this.getMapRequest(t,!1)},addAuthorizedBackground:function(e){var t=this;return S.authenticatedUser().then((function(){S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/AddAuthorizedBg",{bgId:e}).then((function(e){return t.addCustomBackground(e.data)}))}))},updateAuthData:function(e){var t={requestType:"updateAuthData",authData:e};return this.getMapRequest(t,!1)},getLegend:function(e){var t={requestType:"getLegend",params:e};return this.getMapRequest(t,!1)},addOpenSourceLayer:function(e){var t={requestType:"addOpenSourceLayer",params:e};return this.getMapRequest(t,!1)},searchInLayer:function(e){var t=this;return S.authenticatedUser().then((function(){S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/SelectionParams",{layerName:e.layerName,fieldName:e.fieldName,fieldValues:e.fieldValues,interfaceName:e.interfaceName}).then((function(r){var n={requestType:"searchInLayer",selectionParams:r.data,params:e};return t.getMapRequest(n,!1)}))}))},setMapSelection:function(e){var t={requestType:"setMapSelection",params:e};return this.getMapRequest(t,!1)},intersectFeaturesLongGeom:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/IntersectLongGeometry",e)},_selectFeatures:function(e,t,r,n,a,o){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/SelectFeatures",{wkt:t,interfaceName:e,tolerance:r}).then((function(e){if(e&&e.data&&e.data.Values){for(var t in e.data.Values)S.dictSelectFeatures.hasOwnProperty(e.data.Values[t])||(S.dictSelectFeatures[t]=e.data.Values[t]);var r="",n=[];for(var i in S.dictSelectFeatures)r+=i+",",n.push(S.dictSelectFeatures[i]);r=r.substring(0,r.length-1),e.data.SelectionParams.filter="ObjectId in ("+r+")",S.clearDrawings(),S.setMapSelection(e.data.SelectionParams),a?o.notify({data:n,selection:e.data.SelectionParams,limited:e.data.limitedResult}):o.resolve({data:n,selection:e.data.SelectionParams,limited:e.data.limitedResult})}else{var s={error:"no data"};a?o.notify(s):o.resolve(s)}}))},toWKT:function(e){switch("x"in e&&"y"in e&&(e.type="point"),e.type){case"extent":return S._extentToWKT(e);case"point":return S._pointToWKT(e);case"polyline":return S._polylineToWKT(e);case"polygon":return S._polygonToWKT(e)}return null},_pointToWKT:function(e){return"POINT("+e.x+" "+e.y+")"},_polylineToWKT:function(e){var t=e.paths[0],r=t.length;if(0==r)return"";var n=new Array;n.push(t[0][0].toFixed(2)+" "+t[0][1].toFixed(2));for(var a=1;a<r;a++)n.push(", "),n.push(t[a][0].toFixed(2)+" "+t[a][1].toFixed(2));return"LINESTRING("+n.join("")+")"},_polygonToWKT:function(e){var t=e.rings[0],r=t.length;if(0==r)return"";var n=new Array;n.push(t[0][0].toFixed(2)+" "+t[0][1].toFixed(2));for(var a=1;a<r;a++)n.push(", "),n.push(t[a][0].toFixed(2)+" "+t[a][1].toFixed(2));return t[0][0]==t[r-1][0]&&t[0][1]==t[r-1][1]||(n.push(", "),n.push(t[0][0].toFixed(2)+" "+t[0][1].toFixed(2))),"POLYGON(("+n.join("")+"))"},_extentToWKT:function(e){return"POLYGON(("+e.xmin+" "+e.ymin+","+e.xmax+" "+e.ymin+","+e.xmax+" "+e.ymax+","+e.xmin+" "+e.ymax+","+e.xmin+" "+e.ymin+"))"},selectFeaturesOnMap:function(e,t,r){void 0===r&&(r=!1);var n=E.a.Deferred();return S.dictSelectFeatures=[],"object"===typeof t?S._selectFeatures(e,S.toWKT(t),0,0,!1,n):(0==t&&S.setDrawPointTooltip("\u05f3\u2018\u05f3\u2014\u05f3\xa8 \u05f3\u2018\u05f3\x9e\u05f3\u20aa\u05f3\u201d"),S.draw(t).progress((function(a){S._selectFeatures(e,a.wkt,a.tolerance,t,r,n),0==t&&S.setDrawPointTooltip("\u05f3\x9c\u05f3\u2014\u05f3\xa5 \u05f3\u2018\u05f3\x9e\u05f3\u2122\u05f3\xa7\u05f3\u2022\u05f3\x9d \u05f3\u201d\u05f3\x9e\u05f3\u2018\u05f3\u2022\u05f3\xa7\u05f3\xa9")}))),n.promise()},zoomToDrawing:function(){var e={requestType:"zoomToDrawing"};return this.getMapRequest(e,!1)},filterLayers:function(e){var t={requestType:"filterLayers",layerName:e.layerName,whereClause:e.whereClause,zoomToExtent:e.zoomToExtent};return this.getMapRequest(t,!1)},zoomIn:function(){return this.getMapRequest({requestType:"zoomIn"},!1)},zoomOut:function(){return this.getMapRequest({requestType:"zoomOut"},!1)},zoomToExtent:function(e){var t={requestType:"zoomToExtent",xmin:e.xmin,ymin:e.ymin,xmax:e.xmax,ymax:e.ymax};return this.getMapRequest(t,!1)},openTransporatationApp:function(){var e={requestType:"openTransporatationApp"};return this.getMapRequest(e,!1)},findLine:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/FindLine",e)},getSpecificLine:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetSpecificLine",e)},getStationArrivalTimes:function(e){if(e.StartDate||(e.StartDate=S.dateFormat(new Date)),e.StartDepartureTime||(e.StartDepartureTime=S.transportation.startDepartureTime),!e.EndDate){var t=e.StartDate.split("/"),r=new Date(t[2],t[1]-1,t[0]),n=r;n.setDate(r.getDate()+S.transportation.numberOfDaysToAdd),e.EndDate=S.dateFormat(n)}return e.EndDepartureTime||(e.EndDepartureTime=S.transportation.endDepartureTime),S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetStationArrivals",e)},zoomToTransportationLine:function(e){var t={requestType:"zoomToTransportationLine",params:e};return this.getMapRequest(t,!1)},dateFormat:function(e){var t=e.getDate(),r=e.getMonth()+1;return t<10&&(t="0"+t),r<10&&(r="0"+r),t+"/"+r+"/"+e.getFullYear()},projLocations:function(e){var t={requestType:"projFromITMToWGS",params:e};return this.getMapRequest(t,!1)},getLocationsFromAdresses:function(e){return S.post(S.getRestServiceRoot()+"/Api/Controllers/GovmapApi/GetAdressesWgsCoord",e)},getLocations:function(e){return e.locations?S.projLocations(e.locations):e.adresses?S.getLocationsFromAdresses(e.adresses):void 0},getRoutingData:function(e){return S.getLocations(e).then((function(t){var r="http://13.73.176.212:8080/"+S.routing_type[e.routing_type]+"?json=",n={locations:t,costing:S.costing[e.costing]};return r+=JSON.stringify(n),E.a.getJSON(r,(function(e){console.log("success")}))}))},getSearchItem:function(e){return S.post(S.getRestServiceRoot()+"/AdvancedSearch/GetSearchItem",e)},getSearchComponentValues:function(e){return S.post(S.getRestServiceRoot()+"/AdvancedSearch/GetSearchComponentValues",e)},predefinedsearch:function(e){return S.post(S.getRestServiceRoot()+"/Search/PredefinedSearch",e)}};window.govmap=S,S.mapUrl=S.getScriptHostUrl(),S.urlWithProtocol=S.getUrlWithProtocol(),E()(window).on("message",S.message_receiver);var b=r(15),R=r(81),A=r(423),q=r(466),M=r(472),C=r(474),L=r(473),O=r(487),I=r(62),D=r(190),x=r(189);var k=r(186),w=r.n(k);w.a.initializeApp({apiKey:"AIzaSyCKxKgE1Mh7DauQBBhHAnJnnuIJaRLhj74",authDomain:"orders-cd834.firebaseapp.com",databaseURL:"https://orders-cd834.firebaseio.com",projectId:"orders-cd834",storageBucket:"orders-cd834.appspot.com",messagingSenderId:"1099359698304",appId:"1:1099359698304:web:1f290a07e5ad1c1740d565",measurementId:"G-HL9D0JZH4N"});var P=w.a.database();var G=r(265),N=r.n(G);function _(){var e,t=Object(n.useState)([]),r=Object(b.a)(t,2),o=r[0],i=r[1],s=Object(n.useState)([]),u=Object(b.a)(s,2),c=u[0],l=u[1],p=Object(n.useState)([]),d=Object(b.a)(p,2),m=d[0],f=d[1],h=Object(n.useState)(!1),g=Object(b.a)(h,2),v=g[0],y=g[1],T={status:"inWork",orderSetDate:new Date,reciverName:"",city:"",street:"",house:"",lat:"",lng:""};Object(n.useEffect)((function(){!function(e){var t=[];E.a.ajax("https://data.gov.il/dataset/3fc54b81-25b3-4ac7-87db-248c3e1602de/resource/72bd51be-512b-4430-b2d2-f3295c90e569/download/72bd51be-512b-4430-b2d2-f3295c90e569.xml",{dataType:"xml",success:function(r){E()(r).find("ROW").each((function(){var e=E()(this).find("\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1");t.push(e[0].textContent.trim())})),e(t)}})}(f)}),[]),e=m.map((function(e){var t=e[0].toUpperCase();return{firstLetter:/[0-9]/.test(t)?"0-9":t,title:e}})),Object(n.useEffect)((function(){void 0!==o&&null!==o&&o.length>0&&l(o.map((function(e){var t=e[0].toUpperCase();return{firstLetter:/[0-9]/.test(t)?"0-9":t,title:e}})))}),[o]);return a.a.createElement("div",null,a.a.createElement(R.a,{color:"primary",variant:"h3"},"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4"),a.a.createElement(I.c,{initialValues:T,onSubmit:function(e,t){var r=t.setSubmitting,n=t.resetForm;r(!0),e.DDdate=String(e.orderSetDate.getDate()).padStart(2,0),e.MMdate=String(e.orderSetDate.getMonth()+1).padStart(2,0),e.YYdate=e.orderSetDate.getFullYear(),e.MMtime=e.orderSetDate.getMinutes(),e.HHtime=e.orderSetDate.getHours(),e.SStime=e.orderSetDate.getSeconds();var a=e.street+" "+e.house+" "+e.city;N.a.search({q:a},(function(e,t,r){console.log("err"),console.log(e),console.log("results"),console.log(r)})),function(e){void 0!==e&&P.ref("orders").push(e)}(e),console.log(e),n(),r(!1)},validateSchema:Object(x.b)({house:Object(x.a)().min(10)})},(function(t){t.values;var r=t.isSubmitting,n=(t.handleChange,t.setFieldValue);return a.a.createElement(I.b,null,a.a.createElement(A.a,{margin:"normal",required:!0},a.a.createElement(I.a,{label:"\u05e9\u05dd \u05d4\u05de\u05e7\u05d1\u05dc",name:"reciverName",type:"input",variant:"filled",component:D.a}),a.a.createElement(O.a,{id:"city",name:"city",options:e,getOptionLabel:function(e){return e.title},groupBy:function(e){return e.firstLetter},onChange:function(e,t){t?(!function(e,t,r){if(""!==e){var n={resource_id:"a7296d1a-f8c9-4b70-96c2-6ebb4352f8e3",limit:3200,q:e,fields:"\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1,\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1",sort:"\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1"},a=[],o="https://data.gov.il/api/3/action/".concat("datastore_search");E.a.ajax({url:o,data:n,dataType:"json",success:function(r){E()(r.result)[0].records.forEach((function(t){e.includes(t.\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1.trim())&&a.push(t.\u05e9\u05dd_\u05e8\u05d7\u05d5\u05d1.trim())})),a&&t(a)}})}}(t.title,i),y(!0)):(y(!1),l([])),n("city",null!==t?t.title:T.city)},noOptionsText:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05ea\u05d0\u05d9\u05dd...",renderInput:function(e){return a.a.createElement(q.a,Object.assign({},e,{label:"\u05e2\u05d9\u05e8",name:"city",type:"input",variant:"filled",id:"city"}))},loadingText:"\u05d8\u05d5\u05e2\u05df..."}),a.a.createElement(O.a,{id:"street",name:"street",options:c||[""],getOptionLabel:function(e){return e.title},groupBy:function(e){return e.firstLetter},onChange:function(e,t){n("street",null!==t?t.title:T.street)},noOptionsText:v?"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05ea\u05d0\u05d9\u05dd...":"\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8 \u05e2\u05d9\u05e8",renderInput:function(e){return a.a.createElement(q.a,Object.assign({},e,{label:"\u05e8\u05d7\u05d5\u05d1",name:"street",type:"input",variant:"filled",id:"street"}))},loadingText:"\u05d8\u05d5\u05e2\u05df..."}),a.a.createElement(I.a,{label:"\u05de\u05e1\u05e4\u05e8 \u05d1\u05d9\u05ea",name:"house",type:"input",variant:"filled",component:D.a}),a.a.createElement(M.a,{variant:"contained",color:"primary",disabled:r,type:"submit",endIcon:a.a.createElement(L.a,{style:{transform:"scaleX(-1)"}},"send")},r?a.a.createElement(C.a,{size:"1"}):"\u05e9\u05dc\u05d7")),null)})))}var F=r(479),j=r(475),B=r(476),U=r(477),W=r(490),z=r(494),Y=r(478),H=r(495);function K(e){var t=Object(n.useState)([0,0]),r=Object(b.a)(t,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){!function(e,t){var r=e.house,n=e.street,a=e.city;if(function(e){if(""!==e.house&&""!==e.street&&""!==e.city)return!0;return!1}(e)){var o=[0,0],i="https://nominatim.openstreetmap.org/search?q=".concat(r,"+").concat(n,",+").concat(a,"&format=xml&polygon_geojson=1&addressdetails=1");console.log(i),E.a.ajax(i,{dataType:"xml",success:function(e){o[0]=E()(e).find("place").attr("lat"),o[1]=E()(e).find("place").attr("lon"),null!==o&&void 0!==o[0]&&void 0!==o[1]&&t(o)},error:function(e,t,r){console.log("error"),console.log(r)}})}}(e.address,i)}),[e.address]),a.a.createElement(j.a,{style:{margin:"10px"}},a.a.createElement(B.a,{title:"\u05de\u05e9\u05dc\u05d5\u05d7 \u05d0\u05dc: "+e.rcivername,subheader:e.date}),a.a.createElement(U.a,null,a.a.createElement(W.a,{style:{height:"300px"},center:o,zoom:13},a.a.createElement(z.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.a.createElement(Y.a,{position:o},a.a.createElement(H.a,null,"A pretty CSS3 popup. ",a.a.createElement("br",null)," Easily customizable."))),a.a.createElement("p",null,o)))}var V=P.ref("orders");function J(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),r=t[0],o=t[1];Object(n.useEffect)((function(){V.on("value",(function(e){var t=e.val(),r=Object.entries(t);o(r.map((function(e){var t=e[1],r=e[1].DDdate+"/"+e[1].MMdate+"/"+t.YYdate,n={street:t.street,house:t.house,city:t.city};return a.a.createElement(F.a,{key:i,item:!0,xs:3},a.a.createElement(K,{key:i++,rcivername:e[1].reciverName,date:r,address:n}))})))}))}),[]);var i=0;return a.a.createElement(F.a,{container:!0,spacing:2},a.a.createElement(F.a,{item:!0},a.a.createElement(F.a,{container:!0,justify:"center",spacing:2},r)))}var X=[{path:"/",sidebarName:"\u05d1\u05d9\u05ea",component:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[210727,745742],t=Object(v.a)(y,"WGS84",e)}([211080,745685]),console.log("enter"),S.geocode({keyword:"\u05d4\u05e8\u05d5\u05e7\u05de\u05d9\u05dd",type:S.geocodeType.AccuracyOnly}).then((function(e){console.log(e)})),a.a.createElement("div",null,"home")},icon:"home"},{path:"/Place-an-order",sidebarName:"\u05d4\u05db\u05e0\u05e1 \u05d4\u05d6\u05de\u05e0\u05d4",component:function(){return a.a.createElement("div",null,a.a.createElement(_,null))},icon:"input"},{path:"/Show",sidebarName:"\u05e6\u05e4\u05d4 \u05d1\u05d4\u05d6\u05de\u05e0\u05d5\u05ea",component:function(){return a.a.createElement("div",null,a.a.createElement(J,null))},icon:"inbox"}];function Q(){return a.a.createElement("div",null,"error")}function $(){return a.a.createElement("div",null,a.a.createElement(g.c,null,X.map((function(e){return a.a.createElement(g.a,{path:e.path,exact:!0,component:e.component,key:e.path},a.a.createElement(e.component,null))})),a.a.createElement(g.a,{component:Q})))}var Z=r(483),ee=r(484),te=r(471),re=r(489),ne=r(480),ae=r(424),oe=r(470),ie=r(492),se=r(481),ue=r(482),ce=r(120);function le(){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(R.a,{variant:"inherit",display:"block",style:{textAlign:"center",fontSize:"25px"}},"\u05ea\u05e4\u05e8\u05d9\u05d8 \u05e8\u05d0\u05e9\u05d9")),a.a.createElement(ne.a,{variant:"middle"}),a.a.createElement(ae.a,null,a.a.createElement(oe.a,null,X.map((function(e,t){return a.a.createElement(ce.b,{to:e.path,style:{textDecoration:"none"},key:t},a.a.createElement(ie.a,{selected:(r=e.path,window.location.pathname===r)},a.a.createElement(se.a,null,a.a.createElement(L.a,null,e.icon)),a.a.createElement(ue.a,{primary:e.sidebarName,style:{color:"black"}})));var r})))))}function pe(){var e=a.a.useState(!1),t=Object(b.a)(e,2),r=t[0],n=t[1],o=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&n(e)}};return a.a.createElement(Z.a,{position:"static"},a.a.createElement(ee.a,null,a.a.createElement(te.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:o(!0)},a.a.createElement(L.a,null,"menu")),a.a.createElement(R.a,{variant:"h6"},"\u05de\u05e2\u05e8\u05da \u05d4\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd"),a.a.createElement(re.a,{open:r,onClose:o(!1)},a.a.createElement("div",{role:"presentation",onClick:o(!1),onKeyDown:o(!1)},a.a.createElement(le,null))),a.a.createElement(M.a,{color:"inherit",style:{fontWeight:"bold"}},"\u05d4\u05ea\u05d7\u05d1\u05e8")))}var de=Object(p.b)({plugins:[].concat(Object(s.a)(Object(u.a)().plugins),[m()()])});var me=function(){return a.a.createElement(c.a,{theme:h},a.a.createElement(l.b,{jss:de},a.a.createElement("div",{className:"App",dir:"rtl"},a.a.createElement(pe,null),a.a.createElement($,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(ce.a,null,a.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[282,1,2]]]);
//# sourceMappingURL=main.45b62ebe.chunk.js.map